<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>fn-thingy.dangerous-vector documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">fn-thingy</span> <span class="project-version">version 0-SNAPSHOT0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fn-thingy</span></div></div></li><li class="depth-2 branch"><a href="fn-thingy.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch current"><a href="fn-thingy.dangerous-vector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dangerous-vector</span></div></a></li><li class="depth-2"><a href="fn-thingy.utilities.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utilities</span></div></a></li></ul><ul class="index-link"><li class="depth-1"><a href="https://github.com/blosavio/fn-thingy">Project Home</a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="fn-thingy.dangerous-vector.html#var-alt-fn-vec"><div class="inner"><span>alt-fn-vec</span></div></a></li><li class="depth-1"><a href="fn-thingy.dangerous-vector.html#var-alt-fn-vector"><div class="inner"><span>alt-fn-vector</span></div></a></li><li class="depth-1"><a href="fn-thingy.dangerous-vector.html#var-default-options"><div class="inner"><span>default-options</span></div></a></li><li class="depth-1"><a href="fn-thingy.dangerous-vector.html#var-defaultize.21-options"><div class="inner"><span>defaultize!-options</span></div></a></li><li class="depth-1"><a href="fn-thingy.dangerous-vector.html#var-options"><div class="inner"><span>options</span></div></a></li><li class="depth-1"><a href="fn-thingy.dangerous-vector.html#var-options-validator"><div class="inner"><span>options-validator</span></div></a></li><li class="depth-1"><a href="fn-thingy.dangerous-vector.html#var-reset.21-options"><div class="inner"><span>reset!-options</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">fn-thingy.dangerous-vector</h1><div class="doc"><div class="markdown"><p>WARNING: Unless you are the author of this library, you almost certainly don’t want to use this namespace. The items provided here diverge from typical Clojure semantics and are intended for a very specific case that is unusual. All other uses are strongly discouraged.</p>
<p>This namespace provides instances of vectors with dynamically-setable function invocation when they appear in the first element in an S-expression. The <code>toString</code> method is also dynamically setable to indicate that the vectors are altered. All other behaviors are identical to Clojure’s built-in persitent vectors.</p>
<p>Examples</p>
<pre><code class="language-clojure">(def normal-vector (vector 1 2 3))
(def dangerous-vector (alt-fn-vector 1 2 3))

;; shares standard behavior
(count normal-vector) ;; 3
(count dangerous-vector) ;; 3
</code></pre>
<p>Change the invocaton function.</p>
<pre><code class="language-clojure">(reset!-options {:fn (fn [v1 v2] (concat v1 v2))
               :left-delimiter "⟨"
               :right-delimiter "⟩"})
</code></pre>
<p>Now, the <code>invoke</code> and <code>toString</code> behavior is altered.</p>
<pre><code class="language-clojure">(dangerous-vector [97 98 99]) ;; (1 2 3 97 98 99)

(.toString dangerous-vector) ;; "⟨1 2 3⟩"
</code></pre>
</div></div><div class="public anchor" id="var-alt-fn-vec"><h3>alt-fn-vec</h3><div class="usage"><code>(alt-fn-vec c)</code></div><div class="doc"><div class="markdown"><p>Creates a new vector containing the contents of collection <code>c</code>.</p>
<p>Analogous to <code>clojure.core.vec</code>, but does not currently handle Java arrays in the same manner.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/fn-thingy/blob/main/src/fn_thingy/dangerous_vector.clj#L99">view source</a></div></div><div class="public anchor" id="var-alt-fn-vector"><h3>alt-fn-vector</h3><div class="usage"><code>(alt-fn-vector)</code><code>(alt-fn-vector a)</code><code>(alt-fn-vector a b)</code><code>(alt-fn-vector a b c)</code><code>(alt-fn-vector a b c d)</code><code>(alt-fn-vector a b c d e)</code><code>(alt-fn-vector a b c d e f)</code><code>(alt-fn-vector a b c d e f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Creates a new vector containing the args. The returned vector has a modifiable function behavior (defaults to <code>nth</code>).</p>
<p>Analogous to <code>clojure.core.vector</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/fn-thingy/blob/main/src/fn_thingy/dangerous_vector.clj#L83">view source</a></div></div><div class="public anchor" id="var-default-options"><h3>default-options</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/blosavio/fn-thingy/blob/main/src/fn_thingy/dangerous_vector.clj#L42">view source</a></div></div><div class="public anchor" id="var-defaultize.21-options"><h3>defaultize!-options</h3><div class="usage"><code>(defaultize!-options)</code></div><div class="doc"><div class="markdown"><p>Resets options map to default values. See <a href="fn-thingy.dangerous-vector.html#var-default-options">default-options</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/fn-thingy/blob/main/src/fn_thingy/dangerous_vector.clj#L76">view source</a></div></div><div class="public anchor" id="var-options"><h3>options</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/blosavio/fn-thingy/blob/main/src/fn_thingy/dangerous_vector.clj#L60">view source</a></div></div><div class="public anchor" id="var-options-validator"><h3>options-validator</h3><div class="usage"><code>(options-validator m)</code></div><div class="doc"><div class="markdown"><p>Given hash-map <code>m</code>, returns <code>true</code> if the <code>:fn</code> value is a function, and if the <code>:left-delimiter</code> and <code>:right-delimiter</code> values are strings.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/fn-thingy/blob/main/src/fn_thingy/dangerous_vector.clj#L47">view source</a></div></div><div class="public anchor" id="var-reset.21-options"><h3>reset!-options</h3><div class="usage"><code>(reset!-options m)</code></div><div class="doc"><div class="markdown"><p>Resets options to map <code>m</code>. <code>m</code> must associate the following key-vals:</p>
<ul>
<li><code>:fn</code>               a function</li>
<li><code>:left-delimiter</code>   a string</li>
<li><code>:right-delimiter</code> a string</li>
</ul>
<p>Note: <code>m</code> must be coerced into a clojure.lang.PersistentHashMap.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/fn-thingy/blob/main/src/fn_thingy/dangerous_vector.clj#L63">view source</a></div></div></div></body></html>